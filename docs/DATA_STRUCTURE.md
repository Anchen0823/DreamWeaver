# æ•°æ®ç»“æ„è®¾è®¡

## ğŸ“‹ æ›´æ–°è®°å½•

- **v1.4.0** (2025-12-XX): å®ç°ç”»ç¬”å·¥å…·åŠŸèƒ½
  - æ–°å¢ BrushElement æ¥å£å®šä¹‰
  - æ”¯æŒè·¯å¾„ç‚¹æ•°ç»„å­˜å‚¨ç”»ç¬”è½¨è¿¹
  - æ”¯æŒç”»ç¬”é¢œè‰²ã€å®½åº¦å’Œæ ·å¼é…ç½®
  - é¢„ç•™å‹æ„Ÿæ”¯æŒï¼ˆpressure å­—æ®µï¼‰
  - å®ç°ç”»ç¬”ç»˜åˆ¶åŠŸèƒ½ï¼ˆuseBrushDrawing composableï¼‰
  - å®ç° SVG path æ¸²æŸ“ç”»ç¬”è½¨è¿¹
  - ç”»ç¬”æ¨¡å¼ä¸‹ä¸ä¼šé€‰ä¸­å…ƒç´ ï¼Œæ–¹ä¾¿ç»˜åˆ¶ç›¸äº¤ç¬”ç”»
  - æ”¯æŒä»å…ƒç´ æ¡†å†…èµ·ç¬”ç»˜åˆ¶
  - ç»˜åˆ¶å®Œæˆåä¿æŒç”»ç¬”æ¨¡å¼ï¼Œæ”¯æŒè¿ç»­ç»˜åˆ¶
  - å›¾å±‚é¢æ¿æ”¯æŒç”»ç¬”å…ƒç´ ç¼©ç•¥å›¾æ˜¾ç¤º

- **v1.3.1** (2025-12-XX): ä¿®å¤ä¸‰è§’å½¢è½®å»“æ¸²æŸ“é—®é¢˜
  - ä¿®å¤ä¸‰è§’å½¢å›¾å½¢å…ƒç´ çš„è½®å»“æ¸²æŸ“ä¸æ­£ç¡®çš„é—®é¢˜
  - ä½¿ç”¨ clip-path å’Œä¼ªå…ƒç´ å®ç°ä¸‰è§’å½¢è½®å»“
  - ä»ä¸‰è§’å½¢é‡å¿ƒç‚¹ç»Ÿä¸€ç¼©æ”¾ï¼Œä¿æŒå†…å¤–ä¸‰è§’å½¢ç›¸ä¼¼æ€§
  - ä¼˜åŒ–é¢„è§ˆç»„ä»¶ä¸­çš„ä¸‰è§’å½¢è½®å»“æ¸²æŸ“

- **v1.3.0** (2025-12-XX): æ·»åŠ å›¾å±‚é¢æ¿å’Œå…ƒç´ è°ƒæ•´å¤§å°åŠŸèƒ½
  - å®ç°å·¦ä¾§å›¾å±‚é¢æ¿ç»„ä»¶ï¼ˆLayersPanelï¼‰
  - å®ç°å›¾å±‚ç¼©ç•¥å›¾ç»„ä»¶ï¼ˆLayerThumbnailï¼‰
  - æ”¯æŒç‚¹å‡»å›¾å±‚é€‰æ‹©å…ƒç´ ï¼ŒCtrl/Cmd å¤šé€‰
  - ä¼˜åŒ–å…ƒç´ è°ƒæ•´å¤§å°äº¤äº’ï¼ˆè§’ç‚¹å’Œè¾¹ç¼˜æ‹–åŠ¨ï¼‰
  - å°ºå¯¸æ ‡ç­¾ç§»è‡³å…ƒç´ ä¸‹æ–¹ä¸­å¿ƒ
  - ä¼˜åŒ–æ»šåŠ¨æ¡æ˜¾ç¤ºï¼ˆæ‚¬åœæ—¶æ˜¾ç¤ºï¼‰
  - ä¿®å¤ä¸‰è§’å½¢ç¼©ç•¥å›¾æ˜¾ç¤ºé—®é¢˜

- **v1.2.0** (2025-12-XX): æ·»åŠ å·¥å…·æ å’Œæ‹–æ‹½ç»˜åˆ¶åŠŸèƒ½
  - å®ç°åº•éƒ¨å·¥å…·æ ç»„ä»¶ï¼ˆæ¼‚æµ®å¡ç‰‡æ ·å¼ï¼‰
  - æ·»åŠ Moveå·¥å…·ä½œä¸ºé»˜è®¤é€‰æ‹©å·¥å…·
  - å®ç°æ‹–æ‹½ç»˜åˆ¶åŠŸèƒ½ï¼ˆå›¾å½¢ã€å›¾ç‰‡ã€æ–‡æœ¬ï¼‰
  - æ·»åŠ ç»˜åˆ¶é¢„è§ˆï¼ˆé€‰ä¸­æ¡†è½®å»“ã€å°ºå¯¸æ ‡ç­¾ï¼‰
  - å®ç°æ–‡æœ¬å­—ä½“å¤§å°è‡ªé€‚åº”åŠŸèƒ½
  - å®ç°å¤åˆ¶ç²˜è´´åŠŸèƒ½
  - ä¼˜åŒ–ç»˜åˆ¶ä½“éªŒå’Œäº¤äº’æµç¨‹

- **v1.1.0** (2025-11-19): æ·»åŠ å“åº”å¼å¸ƒå±€æ”¯æŒ
  - å®ç°åŠ¨æ€ç¼©æ”¾æ¯”ä¾‹è®¡ç®—
  - æ”¯æŒå¤šè®¾å¤‡é€‚é…ï¼ˆæ¡Œé¢/å¹³æ¿/æ‰‹æœºï¼‰
  - ä¼˜åŒ–å›¾å½¢å…ƒç´ æ¸²æŸ“ï¼ˆä¸‰è§’å½¢ã€åœ†è§’çŸ©å½¢ï¼‰
  - æ·»åŠ åª’ä½“æŸ¥è¯¢å’Œæ–­ç‚¹ç®¡ç†

## ä¸€ã€æ ¸å¿ƒæ•°æ®æ¨¡å‹æ¦‚è§ˆ

DreamWeaver é‡‡ç”¨åŸºäº DOM çš„æ¸²æŸ“æ–¹æ¡ˆï¼Œæ ¸å¿ƒæ•°æ®æ¨¡å‹å›´ç»•**ç”»å¸ƒå…ƒç´ ï¼ˆCanvas Elementï¼‰**å±•å¼€ã€‚æ‰€æœ‰å¯æ¸²æŸ“çš„å…ƒç´ éƒ½éµå¾ªç»Ÿä¸€çš„åŸºç¡€æ¥å£ï¼Œé€šè¿‡ç±»å‹åŒºåˆ†ä¸åŒçš„å…ƒç´ ç±»å‹ã€‚

**ğŸ¨ å“åº”å¼è®¾è®¡ç‰¹æ€§**ï¼šç³»ç»Ÿæ”¯æŒå“åº”å¼å¸ƒå±€ï¼Œå…ƒç´ ä¼šæ ¹æ®ç”»å¸ƒå®é™…å°ºå¯¸è‡ªåŠ¨ç¼©æ”¾ï¼Œä¿æŒè®¾è®¡çš„ç›¸å¯¹æ¯”ä¾‹å’Œå¤–è§‚ã€‚

## äºŒã€å½“å‰å®ç°çš„æ•°æ®ç»“æ„

### 1. åŸºç¡€å…ƒç´ æ¥å£ (BaseElement)

æ‰€æœ‰ç”»å¸ƒå…ƒç´ çš„åŸºç¡€å±æ€§ï¼Œå®šä¹‰äº†å…ƒç´ åœ¨ç”»å¸ƒä¸­çš„ä½ç½®ã€å°ºå¯¸å’Œé€šç”¨å±æ€§ï¼š

```typescript
interface BaseElement {
  id: string              // å”¯ä¸€æ ‡è¯†ç¬¦
  type: ElementType       // å…ƒç´ ç±»å‹
  x: number               // Xåæ ‡ï¼ˆåƒç´ ï¼‰
  y: number               // Yåæ ‡ï¼ˆåƒç´ ï¼‰
  width: number           // å®½åº¦ï¼ˆåƒç´ ï¼‰
  height: number          // é«˜åº¦ï¼ˆåƒç´ ï¼‰
  rotation?: number       // æ—‹è½¬è§’åº¦ï¼ˆæœªæ¥æ‰©å±•ï¼‰
  locked?: boolean        // æ˜¯å¦é”å®šï¼ˆæœªæ¥æ‰©å±•ï¼‰
  visible?: boolean       // æ˜¯å¦å¯è§ï¼ˆæœªæ¥æ‰©å±•ï¼‰
  zIndex?: number         // å›¾å±‚é¡ºåºï¼ˆæœªæ¥æ‰©å±•ï¼‰
}
```

### 2. å…ƒç´ ç±»å‹æšä¸¾

```typescript
type ElementType = 
  | 'rectangle'           // çŸ©å½¢
  | 'rounded-rectangle'   // åœ†è§’çŸ©å½¢
  | 'circle'              // åœ†å½¢
  | 'triangle'            // ä¸‰è§’å½¢
  | 'image'               // å›¾ç‰‡
  | 'text'                // å¯Œæ–‡æœ¬
  | 'brush'               // ç”»ç¬”ç—•è¿¹
  | 'group'               // ç»„åˆï¼ˆæœªæ¥æ‰©å±•ï¼‰
```

### 3. å›¾å½¢å…ƒç´ æ¥å£ (ShapeElement)

```typescript
interface ShapeElement extends BaseElement {
  type: 'rectangle' | 'rounded-rectangle' | 'circle' | 'triangle'
  backgroundColor: string    // èƒŒæ™¯è‰²ï¼ˆCSSé¢œè‰²å€¼ï¼‰
  borderWidth: number        // è¾¹æ¡†å®½åº¦ï¼ˆåƒç´ ï¼‰
  borderColor: string        // è¾¹æ¡†é¢œè‰²ï¼ˆCSSé¢œè‰²å€¼ï¼‰
  borderRadius?: number      // åœ†è§’åŠå¾„ï¼ˆä»…åœ†è§’çŸ©å½¢ä½¿ç”¨ï¼‰
}
```

### 4. å›¾ç‰‡å…ƒç´ æ¥å£ (ImageElement)

```typescript
interface ImageElement extends BaseElement {
  type: 'image'
  src: string                    // å›¾ç‰‡URLï¼ˆbase64 æˆ– å¤–éƒ¨URL æˆ– /publicè·¯å¾„ï¼‰
  originalWidth: number          // å›¾ç‰‡åŸå§‹å®½åº¦
  originalHeight: number         // å›¾ç‰‡åŸå§‹é«˜åº¦
  filter?: 'none' | 'grayscale' | 'blur' | 'contrast'  // æ»¤é•œç±»å‹
  filterIntensity?: number        // æ»¤é•œå¼ºåº¦ï¼ˆ0-100ï¼‰
}
```

### 5. æ–‡æœ¬å…ƒç´ æ¥å£ (TextElement)

```typescript
interface TextElement extends BaseElement {
  type: 'text'
  content: string                 // æ–‡æœ¬å†…å®¹
  fontFamily: string              // å­—ä½“æ—
  fontSize: number                // å­—å·ï¼ˆåƒç´ ï¼‰
  color: string                   // æ–‡å­—é¢œè‰²
  backgroundColor?: string        // èƒŒæ™¯è‰²ï¼ˆå¯é€‰ï¼Œé»˜è®¤é€æ˜ï¼‰
  bold?: boolean                 // åŠ ç²—
  italic?: boolean               // æ–œä½“
  underline?: boolean            // ä¸‹åˆ’çº¿
  strikethrough?: boolean         // åˆ é™¤çº¿
  textAlign?: 'left' | 'center' | 'right'  // å¯¹é½æ–¹å¼
  lineHeight?: number             // è¡Œé«˜
}
```

### 6. ç”»ç¬”ç—•è¿¹å…ƒç´ æ¥å£ (BrushElement)

```typescript
// ç”»ç¬”ç—•è¿¹ç‚¹åæ ‡
interface BrushPoint {
  x: number      // Xåæ ‡ï¼ˆç›¸å¯¹äºå…ƒç´ å·¦ä¸Šè§’ï¼‰
  y: number      // Yåæ ‡ï¼ˆç›¸å¯¹äºå…ƒç´ å·¦ä¸Šè§’ï¼‰
  pressure?: number  // å‹åŠ›å€¼ï¼ˆ0-1ï¼Œå¯é€‰ï¼Œç”¨äºæœªæ¥æ”¯æŒå‹æ„Ÿï¼‰
}

// ç”»ç¬”ç—•è¿¹å…ƒç´ 
interface BrushElement extends BaseElement {
  type: 'brush'
  points: BrushPoint[]            // è·¯å¾„ç‚¹æ•°ç»„ï¼ˆç›¸å¯¹äºå…ƒç´ å·¦ä¸Šè§’çš„åæ ‡ï¼‰
  color: string                   // ç”»ç¬”é¢œè‰²ï¼ˆCSSé¢œè‰²å€¼ï¼‰
  strokeWidth: number              // ç”»ç¬”å®½åº¦ï¼ˆåƒç´ ï¼‰
  lineCap?: 'butt' | 'round' | 'square'  // çº¿å¸½æ ·å¼ï¼ˆå¯é€‰ï¼‰
  lineJoin?: 'miter' | 'round' | 'bevel' // è¿æ¥æ ·å¼ï¼ˆå¯é€‰ï¼‰
}
```

**è¯´æ˜**ï¼š
- `points` æ•°ç»„å­˜å‚¨ç”»ç¬”è½¨è¿¹çš„æ‰€æœ‰ç‚¹ï¼Œæ¯ä¸ªç‚¹çš„åæ ‡ç›¸å¯¹äºå…ƒç´ çš„å·¦ä¸Šè§’ï¼ˆ`x`, `y`ï¼‰
- `width` å’Œ `height` åº”è¯¥æ ¹æ® `points` çš„è¾¹ç•Œæ¡†è‡ªåŠ¨è®¡ç®—
- `lineCap` å’Œ `lineJoin` ç”¨äºæ§åˆ¶ç”»ç¬”çº¿æ¡çš„æ ·å¼ï¼Œé»˜è®¤ä¸º `'round'`
- `pressure` å­—æ®µé¢„ç•™ç”¨äºæœªæ¥æ”¯æŒå‹æ„Ÿç¬”è®¾å¤‡

### 7. ç”»å¸ƒå…ƒç´ è”åˆç±»å‹

```typescript
type CanvasElement = ShapeElement | ImageElement | TextElement | BrushElement
```

### 8. ç”»å¸ƒé…ç½®æ¥å£

```typescript
interface CanvasConfig {
  width: number           // ç”»å¸ƒå®½åº¦ï¼ˆåƒç´ ï¼‰
  height: number          // ç”»å¸ƒé«˜åº¦ï¼ˆåƒç´ ï¼‰
  backgroundColor?: string // ç”»å¸ƒèƒŒæ™¯è‰²
  infinite?: boolean      // æ˜¯å¦æ— é™ç”»å¸ƒï¼ˆæœªæ¥æ‰©å±•ï¼‰
}
```

### 9. è§†å£çŠ¶æ€æ¥å£ï¼ˆæœªæ¥æ‰©å±•ï¼‰

```typescript
interface ViewportState {
  zoom: number            // ç¼©æ”¾æ¯”ä¾‹ï¼ˆ1.0 ä¸ºåŸå§‹å¤§å°ï¼‰
  offsetX: number          // è§†å£Xè½´åç§»é‡ï¼ˆåƒç´ ï¼‰
  offsetY: number         // è§†å£Yè½´åç§»é‡ï¼ˆåƒç´ ï¼‰
  minZoom?: number        // æœ€å°ç¼©æ”¾æ¯”ä¾‹
  maxZoom?: number        // æœ€å¤§ç¼©æ”¾æ¯”ä¾‹
}
```

### 10. ç”»å¸ƒçŠ¶æ€æ¥å£ï¼ˆæœªæ¥æ‰©å±•ï¼‰

```typescript
interface CanvasState {
  config: CanvasConfig           // ç”»å¸ƒé…ç½®
  viewport: ViewportState        // è§†å£çŠ¶æ€
  elements: CanvasElement[]      // æ‰€æœ‰ç”»å¸ƒå…ƒç´ 
  selectedElementIds: string[]   // é€‰ä¸­çš„å…ƒç´ IDåˆ—è¡¨
}
```

## ä¸‰ã€å“åº”å¼è®¾è®¡æœºåˆ¶

### 1. ç¼©æ”¾æ¯”ä¾‹è®¡ç®—

ç³»ç»Ÿé€šè¿‡åŠ¨æ€è®¡ç®—ç¼©æ”¾æ¯”ä¾‹æ¥å®ç°å“åº”å¼å¸ƒå±€ï¼š

```typescript
// è®¾è®¡ç¨¿åŸºå‡†å®½åº¦ï¼ˆ1280pxï¼‰
const DESIGN_WIDTH = 1280

// å®æ—¶è®¡ç®—ç¼©æ”¾æ¯”ä¾‹
scale = actualCanvasWidth / DESIGN_WIDTH
```

### 2. å…ƒç´ å°ºå¯¸è½¬æ¢

æ‰€æœ‰å…ƒç´ å°ºå¯¸éƒ½ä¼šåŸºäºç¼©æ”¾æ¯”ä¾‹è¿›è¡Œè½¬æ¢ï¼š

```typescript
// ä½ç½®åæ ‡
actualX = element.x * scale
actualY = element.y * scale

// å°ºå¯¸
actualWidth = element.width * scale
actualHeight = element.height * scale

// å­—ä½“å¤§å°
actualFontSize = element.fontSize * scale
```

### 3. å“åº”å¼æ–­ç‚¹

ç³»ç»Ÿæ”¯æŒä¸‰ç§ä¸»è¦å±å¹•å°ºå¯¸ï¼š

- **æ¡Œé¢ç«¯** (> 768px): å®Œæ•´åŠŸèƒ½æ˜¾ç¤º
- **å¹³æ¿ç«¯** (â‰¤ 768px): ä¼˜åŒ–é—´è·å’Œå­—ä½“
- **æ‰‹æœºç«¯** (â‰¤ 480px): æœ€å°åŒ–å¸ƒå±€ï¼Œåœ†è§’è¾¹æ¡†

### 4. ä¿æŒç»å¯¹å€¼çš„å±æ€§

ä»¥ä¸‹å±æ€§åœ¨ç¼©æ”¾æ—¶ä¿æŒç»å¯¹åƒç´ å€¼ï¼š
- `borderWidth`: è¾¹æ¡†å®½åº¦ï¼ˆUIä¸€è‡´æ€§ï¼‰
- `borderRadius`: åœ†è§’åŠå¾„ï¼ˆè§†è§‰æ•ˆæœï¼‰
- `filterIntensity`: æ»¤é•œå¼ºåº¦ï¼ˆæ•ˆæœå¼ºåº¦ï¼‰
- `originalWidth/originalHeight`: å›¾ç‰‡åŸå§‹å°ºå¯¸ï¼ˆç”¨äºè®¡ç®—æ¯”ä¾‹ï¼‰

## å››ã€æ•°æ®ç»“æ„è®¾è®¡åŸåˆ™

### 1. å¯æ‰©å±•æ€§
- ä½¿ç”¨è”åˆç±»å‹ï¼ˆUnion Typesï¼‰æ”¯æŒå¤šç§å…ƒç´ ç±»å‹
- é€šè¿‡æ¥å£ç»§æ‰¿å®ç°å±æ€§å¤ç”¨
- é¢„ç•™å¯é€‰å±æ€§æ”¯æŒæœªæ¥åŠŸèƒ½æ‰©å±•

### 2. ç±»å‹å®‰å…¨
- æ‰€æœ‰æ•°æ®ç»“æ„ä½¿ç”¨ TypeScript æ¥å£å®šä¹‰
- é€šè¿‡ç±»å‹å®ˆå«åŒºåˆ†ä¸åŒå…ƒç´ ç±»å‹
- é¿å…ä½¿ç”¨ `any` ç±»å‹

### 3. å“åº”å¼è®¾è®¡è€ƒè™‘
- æ•°æ®å­˜å‚¨ä½¿ç”¨è®¾è®¡ç¨¿åŸå§‹å°ºå¯¸ï¼Œæ¸²æŸ“æ—¶åŠ¨æ€è®¡ç®—å®é™…å°ºå¯¸
- ç¼©æ”¾æ¯”ä¾‹å®æ—¶è®¡ç®—ï¼Œæ”¯æŒçª—å£å¤§å°å˜åŒ–
- ä¿æŒå…³é”®è§†è§‰å±æ€§ï¼ˆå¦‚è¾¹æ¡†å®½åº¦ï¼‰çš„ç»å¯¹å€¼ï¼Œç¡®ä¿UIä¸€è‡´æ€§

### 4. æ€§èƒ½è€ƒè™‘
- å…ƒç´ IDä½¿ç”¨å­—ç¬¦ä¸²ï¼Œä¾¿äºå¿«é€ŸæŸ¥æ‰¾
- é€‰ä¸­çŠ¶æ€ä½¿ç”¨IDæ•°ç»„ï¼Œé¿å…å­˜å‚¨å®Œæ•´å¯¹è±¡å¼•ç”¨
- å“åº”å¼è®¡ç®—ä¼˜åŒ–ï¼Œé¿å…é¢‘ç¹é‡ç»˜
- æ”¯æŒæŒ‰éœ€åŠ è½½ï¼ˆæœªæ¥æ‰©å±•ï¼‰

## äº”ã€å½“å‰å®ç°çŠ¶æ€

### âœ… å·²å®ç°
- BaseElement åŸºç¡€æ¥å£å®šä¹‰
- ShapeElement å›¾å½¢å…ƒç´ æ¥å£ï¼ˆçŸ©å½¢ã€åœ†è§’çŸ©å½¢ã€åœ†å½¢ã€ä¸‰è§’å½¢ï¼‰
- ImageElement å›¾ç‰‡å…ƒç´ æ¥å£ï¼ˆæ”¯æŒPNGã€JPEGï¼Œ3ç§æ»¤é•œï¼‰
- TextElement æ–‡æœ¬å…ƒç´ æ¥å£ï¼ˆæ”¯æŒBIUSæ ·å¼ï¼Œå­—ä½“å¤§å°è‡ªé€‚åº”ï¼‰
- BrushElement ç”»ç¬”ç—•è¿¹å…ƒç´ æ¥å£ï¼ˆæ”¯æŒè·¯å¾„ç‚¹æ•°ç»„ã€ç”»ç¬”é¢œè‰²å’Œå®½åº¦ï¼‰
- CanvasElement è”åˆç±»å‹
- CanvasConfig ç”»å¸ƒé…ç½®æ¥å£
- **å“åº”å¼å¸ƒå±€ç³»ç»Ÿ**ï¼ˆåŠ¨æ€ç¼©æ”¾ã€åª’ä½“æŸ¥è¯¢ã€å¤šè®¾å¤‡é€‚é…ï¼‰
- **å·¥å…·æ ç³»ç»Ÿ**ï¼ˆMoveå·¥å…·ã€å›¾å½¢å·¥å…·ã€å›¾ç‰‡å·¥å…·ã€æ–‡æœ¬å·¥å…·ã€ç”»ç¬”å·¥å…·ï¼‰
- **æ‹–æ‹½ç»˜åˆ¶åŠŸèƒ½**ï¼ˆå®æ—¶é¢„è§ˆã€é€‰ä¸­æ¡†è½®å»“ã€å°ºå¯¸æ ‡ç­¾ï¼‰
- **ç”»ç¬”ç»˜åˆ¶åŠŸèƒ½**ï¼ˆè·¯å¾„ç‚¹è®°å½•ã€SVGæ¸²æŸ“ã€è¿ç»­ç»˜åˆ¶ï¼‰
- **å¤åˆ¶ç²˜è´´åŠŸèƒ½**ï¼ˆæ”¯æŒå¤šé€‰å…ƒç´ ï¼‰
- **ä¸‰è§’å½¢è½®å»“æ¸²æŸ“**ï¼ˆä½¿ç”¨ clip-path å’Œä¼ªå…ƒç´ ï¼Œä»é‡å¿ƒç‚¹ç¼©æ”¾ä¿æŒç›¸ä¼¼æ€§ï¼‰

### â³ å¾…å®ç°
- ViewportState è§†å£çŠ¶æ€ç®¡ç†ï¼ˆç›®å‰ä½¿ç”¨ç®€åŒ–å®ç°ï¼‰
- CanvasState å®Œæ•´ç”»å¸ƒçŠ¶æ€ç®¡ç†
- GroupElement ç»„åˆå…ƒç´ æ¥å£
- æ•°æ®æŒä¹…åŒ–ç»“æ„
- é«˜çº§å“åº”å¼ç‰¹æ€§ï¼ˆè‡ªå®šä¹‰æ–­ç‚¹ã€è®¾å¤‡ç‰¹å®šæ ·å¼ï¼‰
- **ç”»ç¬”å·¥å…·æ **ï¼ˆç”¨äºè®¾ç½®ç”»ç¬”é¢œè‰²ã€å®½åº¦ç­‰å±æ€§ï¼‰
- **æ©¡çš®å·¥å…·å®ç°**ï¼ˆæ“¦é™¤ç”»ç¬”ç—•è¿¹çš„åŠŸèƒ½ï¼‰
- **å‹æ„Ÿæ”¯æŒ**ï¼ˆåˆ©ç”¨ pressure å­—æ®µå®ç°å‹æ„Ÿç¬”è®¾å¤‡æ”¯æŒï¼‰

## å…­ã€æ•°æ®ç¤ºä¾‹

### ğŸ“ æ•°æ®å­˜å‚¨è¯´æ˜

**é‡è¦**ï¼šæ•°æ®ä¸­å­˜å‚¨çš„æ˜¯è®¾è®¡ç¨¿çš„åŸå§‹å°ºå¯¸ï¼ˆåŸºäº1280pxå®½åº¦è®¾è®¡ç¨¿ï¼‰ï¼Œå®é™…æ¸²æŸ“æ—¶ä¼šæ ¹æ®ç”»å¸ƒå½“å‰å°ºå¯¸è¿›è¡Œç¼©æ”¾ã€‚

### å›¾å½¢å…ƒç´ ç¤ºä¾‹
```json
{
  "id": "rect1",
  "type": "rectangle",
  "x": 50,
  "y": 50,
  "width": 100,
  "height": 80,
  "backgroundColor": "#ff6b6b",
  "borderWidth": 2,
  "borderColor": "#ff4757"
}
```

### å›¾ç‰‡å…ƒç´ ç¤ºä¾‹
```json
{
  "id": "image1",
  "type": "image",
  "x": 50,
  "y": 200,
  "width": 150,
  "height": 100,
  "src": "/test1.jpg",
  "originalWidth": 150,
  "originalHeight": 100,
  "filter": "none"
}
```

### æ–‡æœ¬å…ƒç´ ç¤ºä¾‹
```json
{
  "id": "text1",
  "type": "text",
  "x": 250,
  "y": 200,
  "width": 200,
  "height": 60,
  "content": "Hello DreamWeaver!",
  "fontFamily": "Arial, sans-serif",
  "fontSize": 24,
  "color": "#333333",
  "bold": true,
  "italic": false,
  "underline": false,
  "strikethrough": false,
  "textAlign": "left",
  "lineHeight": 1.5
}
```

### ç”»ç¬”ç—•è¿¹å…ƒç´ ç¤ºä¾‹
```json
{
  "id": "brush1",
  "type": "brush",
  "x": 100,
  "y": 100,
  "width": 200,
  "height": 150,
  "points": [
    { "x": 0, "y": 0 },
    { "x": 50, "y": 30 },
    { "x": 100, "y": 50 },
    { "x": 150, "y": 80 },
    { "x": 200, "y": 100 },
    { "x": 180, "y": 130 },
    { "x": 150, "y": 150 }
  ],
  "color": "#ff6b6b",
  "strokeWidth": 5,
  "lineCap": "round",
  "lineJoin": "round"
}
```

**è¯´æ˜**ï¼š
- `points` æ•°ç»„ä¸­çš„åæ ‡æ˜¯ç›¸å¯¹äºå…ƒç´ å·¦ä¸Šè§’ï¼ˆ`x`, `y`ï¼‰çš„åç§»é‡
- `width` å’Œ `height` åº”è¯¥æ ¹æ® `points` çš„è¾¹ç•Œæ¡†è‡ªåŠ¨è®¡ç®—ï¼ˆåŒ…å«ç”»ç¬”å®½åº¦çš„ä¸€åŠä½œä¸ºè¾¹è·ï¼‰
- `lineCap` å’Œ `lineJoin` é»˜è®¤ä¸º `'round'`ï¼Œæä¾›å¹³æ»‘çš„ç”»ç¬”æ•ˆæœ

## ä¸ƒã€æŠ€æœ¯å®ç°ç»†èŠ‚

### å“åº”å¼æ¸²æŸ“æµç¨‹

1. **åˆå§‹åŒ–**: ç›‘å¬çª—å£resizeäº‹ä»¶ï¼Œè·å–ç”»å¸ƒå®é™…å°ºå¯¸
2. **è®¡ç®—ç¼©æ”¾**: `scale = actualWidth / DESIGN_WIDTH`
3. **å…ƒç´ æ¸²æŸ“**: æ‰€æœ‰å°ºå¯¸å±æ€§ä¹˜ä»¥scaleè¿›è¡Œæ¸²æŸ“
4. **æ€§èƒ½ä¼˜åŒ–**: ä½¿ç”¨Vueå“åº”å¼ç³»ç»Ÿï¼Œåªåœ¨å°ºå¯¸å˜åŒ–æ—¶é‡æ–°è®¡ç®—

### æ ·å¼è®¡ç®—ç¤ºä¾‹

#### ä¸‰è§’å½¢å…ƒç´ æ¸²æŸ“ï¼ˆv1.3.1+ï¼‰

ä¸‰è§’å½¢ä½¿ç”¨ `clip-path` å’Œä¼ªå…ƒç´ å®ç°è½®å»“æ¸²æŸ“ï¼š

```typescript
// ä¸‰è§’å½¢å…ƒç´ æ¸²æŸ“è®¡ç®—
const clipPath = 'polygon(50% 0%, 0% 100%, 100% 100%)' // å‘ä¸‹æŒ‡å‘çš„ä¸‰è§’å½¢
const borderWidth = element.borderWidth * scale
const scaledWidth = element.width * scale
const scaledHeight = element.height * scale

// è®¡ç®—ç»Ÿä¸€çš„ç¼©æ”¾æ¯”ä¾‹ï¼ˆä»é‡å¿ƒç‚¹ç¼©æ”¾ï¼Œä¿æŒç›¸ä¼¼æ€§ï¼‰
const minDimension = Math.min(scaledWidth, scaledHeight)
const scaleRatio = borderWidth > 0 && minDimension > 0 
  ? Math.max(0, (minDimension - borderWidth * 2) / minDimension) 
  : 1

// CSSæ ·å¼ï¼ˆé€šè¿‡CSSå˜é‡ä¼ é€’ï¼‰
{
  clipPath: clipPath,
  WebkitClipPath: clipPath, // Safari å…¼å®¹
  backgroundColor: 'transparent', // èƒŒæ™¯é€šè¿‡ä¼ªå…ƒç´ å®ç°
  '--border-width': borderWidth + 'px',
  '--border-color': element.borderColor,
  '--background-color': element.backgroundColor,
  '--scale-ratio': scaleRatio
}
```

**æ¸²æŸ“æœºåˆ¶**ï¼š
- `::before` ä¼ªå…ƒç´ ï¼šå¤–å±‚ä¸‰è§’å½¢ï¼Œä½¿ç”¨ `borderColor` ä½œä¸ºè½®å»“
- `::after` ä¼ªå…ƒç´ ï¼šå†…å±‚ä¸‰è§’å½¢ï¼Œä½¿ç”¨ `backgroundColor` ä½œä¸ºå¡«å……
- å†…å±‚ä¸‰è§’å½¢ä»é‡å¿ƒç‚¹ï¼ˆ50%, 66.67%ï¼‰ç»Ÿä¸€ç¼©æ”¾ï¼Œä¿æŒå†…å¤–ä¸‰è§’å½¢ç›¸ä¼¼æ€§
- ç¼©æ”¾æ¯”ä¾‹åŸºäºæœ€å°å°ºå¯¸è®¡ç®—ï¼Œç¡®ä¿è¾¹æ¡†å‡åŒ€

#### å…¶ä»–å›¾å½¢å…ƒç´ æ¸²æŸ“

```typescript
// çŸ©å½¢ã€åœ†è§’çŸ©å½¢ã€åœ†å½¢ä½¿ç”¨æ ‡å‡† CSS è¾¹æ¡†
{
  backgroundColor: element.backgroundColor,
  borderWidth: element.borderWidth + 'px',
  borderStyle: 'solid',
  borderColor: element.borderColor
}
```

### æµè§ˆå™¨å…¼å®¹æ€§

- æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨
- ä½¿ç”¨CSS `aspect-ratio` å±æ€§ï¼ˆç°ä»£æµè§ˆå™¨æ”¯æŒï¼‰
- é™çº§æ–¹æ¡ˆï¼šå›ºå®šé«˜åº¦ä»£æ›¿å®½é«˜æ¯”

